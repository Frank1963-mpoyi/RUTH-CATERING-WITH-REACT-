function NTh(a){if(a.D)return a.D;a.D=[];var b=yH(a);a.D=Uc(b,function(c){var d=Qne(c);if(on(d,12))return new XT(null,Sm().TRa()(on(d,12)));c=En(Sm().Ow()(c,!1));return new XT(UE(c),null)});return a.D}function OTh(a,b,c){return gy(fjb(iy(ey(a).$g),iy(ey(b).$g),c))}function PTh(a){var b=a.C.cloneNode(!1);a.oa().yr(b,a.C);return b}
function QTh(a,b){var c=b.getContext("2d"),d=JL(a.D),e=a.D.Ob(),f=QK(a.D),h=RK(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;Qwc(a.C,c,0,0,0,0,d.width,h);Qwc(a.C,c,e,h,e,h,f,k)}function RTh(a){this.qb=Vm(a,-1,0)}u(RTh,Zm);RTh.prototype.hb=function(){return new STh(this)};function STh(a){qn.call(this,a)}u(STh,qn);function TTh(a,b,c){bI.call(this,131);this.F=a;this.J=b;this.C=c}u(TTh,bI);TTh.prototype.Pd=function(){var a=void 0===a?an(RTh):a;a=new STh(a);a=Cn(a,1,this.F);a=un(a,4,this.C);var b=k5e(this.J);a=An(a,3,b);return rn(a)};function UTh(a){this.qb=Vm(a,-1,0)}u(UTh,Zm);UTh.prototype.hb=function(){return new VTh(this)};function VTh(a){qn.call(this,a)}u(VTh,qn);function WTh(a,b){bI.call(this,132);this.C=a;this.F=b}u(WTh,bI);WTh.prototype.Pd=function(){var a=void 0===a?an(UTh):a;a=new VTh(a);a=Cn(a,1,this.C);a=Cn(a,2,this.F);return rn(a)};WTh.prototype.wg=l(!1);function XTh(a){this.qb=Vm(a,-1,0)}u(XTh,Zm);XTh.prototype.hb=function(){return new YTh(this)};function YTh(a){qn.call(this,a)}u(YTh,qn);function ZTh(a,b,c){bI.call(this,41);this.C=b;this.F=c}u(ZTh,bI);ZTh.prototype.Pd=function(){var a=void 0===a?an(XTh):a;a=new YTh(a);a=Cn(a,1,this.C);a=un(a,2,this.F);return rn(a)};ZTh.prototype.wg=l(!1);ZTh.prototype.Mk=l("Filter view duplicated");function $Th(a){this.qb=Vm(a,-1,0)}u($Th,Zm);$Th.prototype.hb=function(){return new aUh(this)};$Th.prototype.getName=function(){return on(this,2)};function aUh(a){qn.call(this,a)}u(aUh,qn);aUh.prototype.getName=function(){return this.message.getName()};aUh.prototype.cd=function(a){return Cn(this,2,a)};function bUh(a,b,c){bI.call(this,43);this.F=b;this.C=c}u(bUh,bI);bUh.prototype.Pd=function(){var a=void 0===a?an($Th):a;a=new aUh(a);a=Cn(a,1,this.F);return rn(a.cd(this.C))};bUh.prototype.wg=l(!1);bUh.prototype.Mk=function(){return"Filter view renamed to "+this.C};function cUh(a,b){a=a.C_b;return Q('<div class="'+R("waffle-filter-bar-rangepill")+" "+R("goog-inline-block")+'" tabindex="0"><span class="'+R("waffle-filter-bar-rangepill-range")+" "+R("goog-inline-block")+'"></span>'+P(r2e({enabled:"true",Ie:"waffle-filter-bar-rangepill-close",hidden:a},b))+"</div>")};function dUh(a,b,c,d,e){O.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}u(dUh,O);dUh.prototype.Ba=function(){this.rb(Zt(cUh,{C_b:this.D}));this.oa().Ne(this.Fa("waffle-filter-bar-rangepill-range"),eUh(this))};dUh.prototype.Ia=function(){O.prototype.Ia.call(this);this.getHandler().Of(this.La(),um,this.L);if(!this.D){var a=new gw("",new ew,this.oa());this.Ga(a);var b=this.Fa("waffle-filter-bar-rangepill-close");a.Xa(b);zw(b,"Remove",void 0);this.getHandler().listen(a,"action",this.J)}};
dUh.prototype.L=function(a){a.target!=this.Fa("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new nm("oj",this))};dUh.prototype.J=function(a){this.dispatchEvent(new nm("pj",this));a.stopPropagation()};function eUh(a){return U_e(a.H,a.C)?V_e(a.H,a.C,!1):"#REF"};function fUh(){var a='<div class="'+R("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+R("waffle-filter-bar-header")+" "+R("waffle-filter-bar-range-label")+" "+R("goog-inline-block")+'">';a=a+'Ranges:</span><div class="'+(R("waffle-filter-bar-range-filter-pills-container")+" "+R("goog-inline-block")+'"></div><div class="'+R("waffle-filter-bar-add-range-filter-button")+" "+R("goog-inline-block")+'">');a=a+'Add new range</div><input class="'+(R("jfk-textinput")+
" "+R("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+R("waffle-filter-bar-range-section-space-eater")+'"></div></div>');return Q(a)};function gUh(a,b,c,d){O.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new O;this.Ga(this.L);this.H=new gw(void 0,xy.getInstance(),d);this.Ga(this.H);this.F=new Xx(void 0,d);this.Ga(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.ea=!1}u(gUh,O);p=gUh.prototype;
p.Ba=function(){this.rb(Zt(fUh));this.L.Xa(this.Fa("waffle-filter-bar-range-filter-pills-container"));this.H.Xa(this.Fa("waffle-filter-bar-add-range-filter-button"));this.H.Pa(!0);var a=this.Fa("waffle-filter-bar-range-pill-input");this.F.Xa(a)};
p.Ia=function(){O.prototype.Ia.call(this);var a=new xv,b=this.F.La();yv(a,b);b=new Qu(b);this.getHandler().listen(this.L,"oj",this.FHb).listen(this.L,"pj",this.gGb).listen(a,"key",this.Tbc).listen(b,"focusin",this.Rbc).listen(b,"focusout",this.Sbc).listen(this.H,"action",this.dBb)};p.Tc=function(){var a=this;this.L.Dd(!0);Qc(hUh(this),function(b){a.L.Ga(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,iUh(a,a.D.La()))})};
p.FHb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&jUh(this);this.D=a.target;this.F.setValue(eUh(this.D));iUh(this,this.D.La());this.C="waffle-filter-bar-range-filter-pill-edit"};p.gGb=function(a){var b=aH(this.J)?this.J.getActiveGrid().Ic().D:null;if(b&&(b=xH(b))){a=a.target;var c={};Iub.sb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};
p.dBb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&jUh(this);var a=this.J.getActiveGrid().Ic().C;this.F.setValue(pK(a));iUh(this,this.H.La());this.C="waffle-filter-bar-range-section-mode-add"};function iUh(a,b){var c=a.F.La();zt(c,Bt(b).width);a.oa().yr(c,b);N(b,!1);N(c,!0);b=new qo(function(){return $x(a.F)});a.qa(b);b.start()}
function jUh(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(N("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.La():a.H.La(),!0),N(a.F.La(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}p.Tbc=function(a){13==a.keyCode?(kUh(this),jUh(this),this.O.Fb(3)):27==a.keyCode&&(jUh(this),this.Tc(),this.O.Fb(3));a.stopPropagation()};p.Sbc=function(){this.getParent().Nd&&(kUh(this),jUh(this))};p.Rbc=function(){this.O.Fb(2)};
function hUh(a){var b=aH(a.J)?a.J.getActiveGrid().Ic().D:null;if(!b||!xH(b))return[];var c=yH(b),d=1==c.length;return Uc(NTh(b),function(e,f){return new dUh(c[f++],e,a.R,d)})}
function kUh(a){if(!a.ea){var b=Ed(a.F.getValue());if((b=Y_e(a.R,b))&&U_e(a.R,b)){a.ea=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=xH(dH(a.J).D),d={};Gub.sb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},Uz.sb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.ea=!1}}};function lUh(){return Q('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function mUh(){return Q('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function nUh(a,b){a=a.t_b;var c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+
(R("waffle-filter-bar-range-section-space-eater")+'"></div>');c=c+'<div class="goog-inline-block waffle-filter-bar-align-right">'+P(kkb({enabled:!0,title:"Options",id:"waffle-filter-bar-options",Ho:"waffle-filter-bar-options",kH:ku(""+P(yy({icon:"docs-icon-img docs-icon-settings-white"},b)))}));c+=P(lkb({id:"waffle-filter-bar-close",Ie:"waffle-filter-bar-close"},b))+"</div></div>";return Q(c)};function oUh(a,b,c,d,e,f){SX.call(this,f);this.Qa=a;this.kb=b;this.Ra=c;this.Ha=d;this.Aa=e;this.R=null;this.hO=new Xx(void 0,f);this.Ga(this.hO);this.Na=null;this.xa=new uy;this.Ga(this.xa);this.ma=null;this.zF=new Xx(void 0,f);this.Ga(this.zF);if(this.L=y(A(),"femrfifv"))this.Ca=new gUh(a,d,e),this.Ga(this.Ca);this.C=null;this.$a=new kw("Rename");this.eb=new kw("Update Range");this.Va=new kw("Duplicate");this.Sa=new kw("Delete");this.Ya=new kw("Learn more");this.F=new vw(null,null,xy.getInstance(),
f);this.F.Xc(this.$a);this.L||this.F.Xc(this.eb);this.F.Xc(this.Va);this.F.Xc(this.Sa);this.F.Xc(new ow);this.F.Xc(this.Ya);this.Ga(this.F);this.O=new gw(void 0,xy.getInstance(),f);this.Ga(this.O)}u(oUh,SX);p=oUh.prototype;p.OPa=l("waffle-slidingdialog-filterbar");p.N1a=function(){return Zt(nUh,{t_b:this.L})};
p.Ia=function(){SX.prototype.Ia.call(this);var a=this.Fa("waffle-filter-bar-name-input");this.hO.Xa(a);Iu(a,"label-input-label");this.xa.Xa(a);this.R=this.Fa("waffle-filter-bar-name-readonly");this.Na=this.Fa("waffle-filter-bar-name-label");this.L?this.Ca.render(this.Fa("waffle-filter-bar-range-section-container")):(a=this.Fa("waffle-filter-bar-range-input"),this.zF.Xa(a),this.ma=this.Fa("waffle-filter-bar-range-readonly"),pUh(this));this.F.Xa(this.Fa("waffle-filter-bar-options"));this.F.Pa(!0);this.O.Xa(this.Fa("waffle-filter-bar-close"));
this.O.Pa(!0);qUh(this);rUh(this)};
function rUh(a){var b=aF(a.kb),c=new xv;yv(c,a.hO.getElement());var d=new Qu(a.hO.getElement()),e=new xv;yv(e,a.O.getElement());a.getHandler().listen(a.O,"action",a.Vbc).listen(b,["rc","tc","uc"],a.Tc).listen(c,"key",a.wOb).listen(e,"key",a.hWb).listen(d,"focusin",a.P1a).listen(d,"focusout",a.vOb);Tz.Ab(Up,function(){return qUh(a)});b=new Tw(void 0,void 0,!0,Jy.getInstance());Vw(b,a.$a,Tz);Vw(b,a.Va,Sz);Vw(b,a.Sa,Rz);Vw(b,a.Ya,(uq(),rs),void 0,a.WQa);a.L||(c=new xv,yv(c,a.zF.getElement()),d=new Qu(a.zF.getElement()),
a.getHandler().listen(c,"key",a.Xbc).listen(d,"focusin",a.P1a).listen(d,"focusout",a.Wbc),Uz.Ab(Up,function(){return pUh(a)}),Vw(b,a.eb,Uz))}p.setVisible=function(a,b){SX.prototype.setVisible.call(this,a,b);a&&this.Tc();!a&&this.C&&(this.C.setVisible(!1),this.C=null)};
p.v4a=function(){var a=sUh(this);if(a&&(a=CH(a),this.Ra.D[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=Zt(a?mUh:lUh);this.C=new cz(this.oa().getElement("waffle-filter-bar-promo"));this.qa(this.C);this.C.setPosition(1,0);this.C.setContent(b);Xv(this.C,!1);this.C.mF=!0;this.C.render();b=this.oa().getElement("waffle-filterbar-promo-dismiss-link");um.listen(b,this.oha,!1,this);b=this.oa().getElement("waffle-filterbar-promo-learn-more-link");um.listen(b,this.pWa,
!1,this);this.getHandler().listen(this.C,"hide",this.oha);vK(this.Ra,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};p.oha=function(){if(this.C){var a=this.oa().getElement("waffle-filterbar-promo-dismiss-link");um.Lc(a,this.oha,!1,this);a=this.oa().getElement("waffle-filterbar-promo-learn-more-link");um.Lc(a,this.pWa,!1,this);this.getHandler().Lc(this.C,"hide",this.oha);this.C.setVisible(!1);this.C=null}};
p.Tc=function(){var a=sUh(this);if(a){var b=xH(a);if(b){this.F.setVisible(!CH(a));N(this.Na,!CH(a));b=S_b(b);var c="Name: "+b;this.xa.setValue(b);this.oa().Ne(this.R,b);Cu(this.R,c);this.L?this.Ca.Tc():(a=NTh(a)[0],a=U_e(this.Aa,a)?V_e(this.Aa,a,!1):"#REF",b="Range: "+a,this.zF.setValue(a),this.oa().Ne(this.ma,a),Cu(this.ma,b))}}};p.Vbc=function(){this.dispatchEvent("close");tUh(this)};p.wOb=function(a){13==a.keyCode?(uUh(this),tUh(this)):27==a.keyCode&&(this.Tc(),a.stopPropagation(),tUh(this))};
p.Xbc=function(a){13==a.keyCode?(vUh(this),tUh(this)):27==a.keyCode&&(this.Tc(),a.stopPropagation(),tUh(this))};p.hWb=function(a){a.shiftKey||9!=a.keyCode||(tUh(this),a.stopPropagation())};function tUh(a){a.Ha.Fb(3)}p.P1a=function(){this.Ha.Fb(2)};p.vOb=function(){this.Nd&&uUh(this)};p.Wbc=function(){this.Nd&&vUh(this)};function qUh(a){var b=Tz.isEnabled();N(a.hO.getElement(),b);N(a.R,!b)}function pUh(a){var b=Uz.isEnabled();N(a.zF.getElement(),b);N(a.ma,!b)}
function uUh(a){var b=sUh(a);if(b){b=xH(b);var c=S_b(b),d=Ed(a.hO.getValue());c==d?a.Tc():(a={},Tz.sb((a.name=d,a["filter-view-id"]=b,a)))}}function vUh(a){var b=sUh(a);if(b){var c=yH(b)[0],d=Ed(a.zF.getValue());(d=Y_e(a.Aa,d))?NTh(b)[0].equals(d)?a.Tc():(a={},Uz.sb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Tc()}}p.pWa=function(){(uq(),rs).sb(this.WQa())};p.WQa=function(){var a={};return a.defaultHelpArticleId="3540681",a};p.focus=function(){$x(this.hO)};
function sUh(a){return aH(a.Qa)?a.Qa.getActiveGrid().Ic().D:null};function wUh(a){this.qb=Vm(a,-1,0)}u(wUh,Zm);wUh.prototype.hb=function(){return new xUh(this)};wUh.prototype.fb=function(){return on(this,1)};wUh.prototype.getRange=function(){return this.Ib(2,Dn)};function xUh(a){qn.call(this,a)}u(xUh,qn);xUh.prototype.fb=function(){return this.message.fb()};xUh.prototype.getRange=function(){return this.message.getRange()};function yUh(a,b,c,d){bI.call(this,70);this.J=a.Kb();this.C=b;this.F=c;this.L=d}u(yUh,bI);yUh.prototype.Pd=function(){var a=void 0===a?an(wUh):a;a=new xUh(a);a=Cn(a,1,this.J);a=Cn(a,4,this.C);var b=k5e(this.F);a=An(a,3,b);return rn(a)};yUh.prototype.Mk=function(){return"Filter range updated to "+(this.L+".")};function zUh(a,b,c,d,e,f){RX.call(this,"waffle-filterbar-id",e);this.O=w(this.tsc,this);this.H=a;this.L=b;this.D=c;this.ma=d;this.F=f;this.J=new Rw(this);this.qa(this.J);this.J.subscribe(Sz,"action",this.AHb).subscribe(Rz,"action",this.fGb).subscribe(Tz,"action",this.oSb).subscribe(Uz,"action",this.uXb).subscribe(Gub,"action",this.Ubc).subscribe(Iub,"action",this.hGb)}u(zUh,RX);p=zUh.prototype;p.tsc=function(){this.C.setVisible(!0)};
p.fGb=function(){var a=AUh(this),b=xH(a.D);b&&this.D.C(new yBe(a,b))};p.AHb=function(){var a=AUh(this),b=xH(a.D);b&&this.D.C(new ZTh(a,b,!this.F.H.C))};p.oSb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&Ed(a))&&a.length){var c=AUh(this);this.D.C(new bUh(c,b,a))}else this.C.Tc()}else $x(this.C.hO)};p.uXb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=AUh(this),d=V_e(this.F.Ya,a,!1);this.D.C(new yUh(c,b,a,d))}else $x(this.C.zF)};
p.Ubc=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=AUh(this);this.D.C(new TTh(b,a,CH(c.D)))}else $x(this.C.zF)};p.hGb=function(a){a?this.D.C(new WTh(a["filter-view-id"],a["range-filter-id"])):$x(this.C.zF)};p.N5=function(){return new oUh(this.H,this.L,this.ma,this.R,this.F.Ya)};p.aD=function(){RX.prototype.aD.call(this);this.getHandler().listen(this.C,"close",this.fXb);this.WL()};p.Mp=l("waffle-filterbar-id");p.fXb=function(){var a=AUh(this);this.D.C(new oO(a,null))};
p.setVisible=function(a,b){this.C.setVisible(a,b)};function AUh(a){return a.H.getActiveGrid().Ic()};function BUh(a,b,c,d,e,f,h){B.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.ea=e;this.R=f;this.ma=h;this.H=new ym(this);this.qa(this.H);this.C=this.D=null;a=aF(this.J);this.H.listen(a,["rc","sc","tc","uc"],this.Ybc).listen(this.F,["pa","Fa"],this.$bc).listen(this.F,["oa","Ga"],this.Zbc);Hub.Ab(Wp,w(this.CBb,this));CUh(this,!1)}u(BUh,B);function CUh(a,b){if(a.F.C)if(aH(a.F)){var c=dH(a.F).D,d=BH(c);c=d&&!DH(c);DUh(a,d,c,b)}else DUh(a,!1,!1,b)}
function DUh(a,b,c,d){b&&!c&&a.C?a.C.play():a.C&&a.C.stop();c&&!a.D&&(a.D=new zUh(a.F,a.J,a.O,a.ea,a.R,a.ma),a.qa(a.D),a.H.listen(a.D,"end",a.sCb),a.D.show());if(a.D&&(a.D.setVisible(c,d),d)){if(a=hI(a.L))b=a.xa.$a,c=c?1:0,OTh("#555555","#f3f3f3",c),OTh("#363636","#ddd",c),OTh("#516374","#8fb1e8",c),OTh("white","black",c),OTh("white","green",c),b.C.color=OTh("#3c3c3c","#ccc",c),B0e(a);yve()}}p=BUh.prototype;p.sCb=function(){yve();this.C&&this.C.play(!0)};p.Ybc=function(){CUh(this,!1)};
p.$bc=function(){DUh(this,!1,!1,!0)};p.Zbc=function(){CUh(this,!0)};p.CBb=function(){var a=this;this.C&&this.C.stop();var b=hI(this.L);if(b){b=b.xa;var c=PTh(b);nt(c,"z-index",3);nt(c,"pointer-events","none");c.removeAttribute("moz-opaque");QTh(b,c);this.C=lbb(c,.35);this.H.Sc(this.C,"end",function(){Al(c);Ef(a.C);a.C=null})}};function EUh(){Km.apply(this,arguments)}u(EUh,Km);EUh.prototype.C=function(){return BUh};Qm("filterbar",EUh);
